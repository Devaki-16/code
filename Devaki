EntityController - Code

package com.example.jsonreader.controller;

import com.example.jsonreader.model.EntityData;
import com.example.jsonreader.service.JsonReaderService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

import java.util.List;

@RestController
public class EntityController {

    @Autowired
    private JsonReaderService jsonReaderService;

    @GetMapping("/entities")
    public List<EntityData> getAllEntities() {
        return jsonReaderService.readEntities();
    }
}





EntityData- Code
// EntityData.java
package com.example.jsonreader.model;

import lombok.Data;
import java.util.List;

@Data
public class EntityData {
    private List<String> identifiers;
    private String businessGroup;
}





Wrapper - Code
// Wrapper.java
package com.example.jsonreader.model;

import lombok.Data;

@Data
public class Wrapper {
    private EntityData entity;
}



EntityResponse - Code
// EntityResponse.java
package com.example.jsonreader.model;

import lombok.Data;
import java.util.List;

@Data
public class EntityResponse {
    private List<Wrapper> entities;
}





JsonReaderService - Code

// JsonReaderService.java
package com.example.jsonreader.service;

import com.example.jsonreader.model.EntityData;
import com.example.jsonreader.model.EntityResponse;
import com.example.jsonreader.model.Wrapper;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.springframework.stereotype.Service;
import org.springframework.core.io.ClassPathResource;

import java.io.InputStream;
import java.util.List;
import java.util.stream.Collectors;

@Service
public class JsonReaderService {

    public List<EntityData> readEntities() {
        try {
            ObjectMapper mapper = new ObjectMapper();
            InputStream inputStream = new ClassPathResource("data/entities.json").getInputStream();

            // Read the entire JSON array into a List<Wrapper>
            List<Wrapper> wrappers = mapper.readValue(inputStream,
                    mapper.getTypeFactory().constructCollectionType(List.class, Wrapper.class));

            return wrappers.stream()
                    .map(Wrapper::getEntity)
                    .collect(Collectors.toList());

        } catch (Exception e) {
            throw new RuntimeException("Failed to read JSON file", e);
        }
    }
}





JsonReaderApplication - Code

package com.example.jsonreader;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class JsonReaderApplication {
    public static void main(String[] args) {
        SpringApplication.run(JsonReaderApplication.class, args);
    }
}



application.properties - Code

# Server configuration
server.port=8080

# Logging (Optional: you can customize as needed)
logging.level.org.springframework=INFO
logging.level.com.bookstore=DEBUG

# Jackson (JSON parsing) settings - Optional
spring.jackson.serialization.indent_output=true






